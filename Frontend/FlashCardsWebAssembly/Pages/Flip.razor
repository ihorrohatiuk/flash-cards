@page "/flip"

@if (flashCards is null)
{
<p>
    <em>Loading flash cards...</em>
</p>
}
else
{
<div class="flip-container">
    <div class="flip-card @(showAnswer ? "flip" : "")" @onclick="FlipCard">
        <div class="flip-card-front">
            @flashCards[currentCardIndex].Question
        </div>
        <div class="flip-card-back">
            @flashCards[currentCardIndex].Answer
        </div>
    </div>
</div>

<div class="mt-3">
    <button class="btn btn-success" @onclick="NextCard">Next card</button>
</div>
}



@code {
    private List<FlashCard>? flashCards;
    private int currentCardIndex = 0;
    private bool showAnswer = false;

    protected override void OnInitialized()
    {
        LoadFlashCards();
    }

    private void LoadFlashCards()
    {
        flashCards =
        [
            new FlashCard { Question = "The capital of France?", Answer = "Paris" },
            new FlashCard { Question = "2 + 2?", Answer = "4" }
        ];
    }

    private void FlipCard()
    {
        showAnswer = !showAnswer;
    }

    private void NextCard()
    {
        showAnswer = false;
        if (currentCardIndex < flashCards.Count - 1)
        {
            currentCardIndex++;
        }
        else
        {
            currentCardIndex = 0;
        }
    }
}